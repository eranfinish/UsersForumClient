<!-- src/app/components/user-details/user-details.component.html -->
<div class="user-details">
  <h2>User Details</h2>
  <p>Name: {{ user.name }}</p>
  <p>Email: {{ user.email }}</p>
  <!-- Add other user details as needed -->

  <h3>Policies</h3>
  <ul *ngIf="user?.insurancePolicies?.length">
    <li *ngFor="let policy of user.insurancePolicies">
      Policy Number: {{ policy.policyNumber }}
      <!-- Add other policy details as needed -->
      <button (click)="editPolicy(policy)">Edit Policy</button>
    </li>
  </ul>

  <!-- Add a button to show the form for adding a new policy -->
  <button (click)="showAddPolicyForm = !showAddPolicyForm">
    {{ showAddPolicyForm ? 'Hide' : 'Add New Policy' }}
  </button>

  <div *ngIf="showAddPolicyForm">
    <app-insurance-policy-form (addPolicy)="addPolicyToUser($event)"></app-insurance-policy-form>
  </div>
</div>
